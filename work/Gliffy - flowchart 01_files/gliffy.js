(function(){window.GLIFFY=window.GLIFFY||{};var c={};var b=false;var d=function(g){var f=GLIFFY.draft.buildGliffySaveWarningString();if(b=="true"){g.returnValue=f;return f}};var a=function a(f){if(b=="true"){return GLIFFY.draft.buildGliffySaveWarningString()}};GLIFFY.draft={list:{},update:function(e,f){c[e]=e+" @ "+f},remove:function(e){delete c[e]},buildGliffySaveWarningString:function(){var e="";for(var f in c){if(e.length>0){e+="\n"}e+=c[f]}return(e.length>0)?"We've detected that you may have one or more unsaved diagrams in Gliffy. The following list shows your latest autosaved drafts:\n\n"+e:"We have detected that you may have one or more unsaved diagrams in Gliffy"}};var b=false;GLIFFY.browser={setTitle:function(e){document.title=e},setLocationHash:function(e){if(lz.embed.browser.isFirefox&&lz.embed.browser.version<3.5){}else{window.location.hash=e}},setCookie:function(g,e){var f="";f+=g+"="+e;f+=" ; expires=Friday, 13-Dec-20 13:13:13 GMT";f+=" ; path=/";document.cookie=f},setSaveWarning:function(e){b=e},readCookie:function(f){var h=f+"=";var e=document.cookie.split(";");for(var g=0;g<e.length;g++){var j=e[g];while(j.charAt(0)==" "){j=j.substring(1,j.length)}if(j.indexOf(h)==0){return j.substring(h.length,j.length)}}return null},closeCurrentWindowAndReloadOpener:function(e){if(e=="RELOAD"){window.opener.location.reload(true)}self.close()},uploadFile:function(j){var e=j.substring(0,j.indexOf("|"));var m=j.substring(j.indexOf("|")+1);var g=m.split("|");var l=g[0];var i=g[1];var n=g[2];var f="/gliffy/uploadFile.jsp"+e;var k="width=400,height=100,left="+(l/2-75)+",top="+(i/2)+",screenX="+(l/2-75)+",screenY="+(i/2);window.open(f,"",k)},uploadImage:function(g){var h=g.split("|");var f=h[3]+"/uploadImage.jsp"+h[0];var e="width=500,height=380,left=200,top=230,screenX=200,screenY=230";window.open(f,"",e)},completeImageUpload:function(e){lz.embed.setCanvasAttribute("imageUploadComplete",e)},loadPage:function(e){window.location.href=e},getObject:function(e){if(document.getElementById&&document.getElementById(e)){return document.getElementById(e)}else{if(document.all&&document.all(e)){return document.all(e)}else{if(document.layers&&document.layers[e]){return document.layers[e]}else{return false}}}},giveFlashFocus:function(){var e=document.getElementById("lzapp");if(e){e.setAttribute("tabindex",0);e.focus()}},removeSplash:function(){if(lz.embed.browser.isIE){clearTimeout(GLIFFY.gliffytimeout)}var e=GLIFFY.browser.getObject("loadingTable");if(e&&e.parentNode){e.parentNode.removeChild(e)}GLIFFY.browser.giveFlashFocus()},showChromeMacWarning:function(){return((navigator.userAgent.indexOf("Chrome")!==-1&&navigator.platform.indexOf("Mac")!==-1)&&GLIFFY.browser.readCookie("showChromeMacWarning")!="false")},debug:function(e){if(window.console){console.log(e)}}};if(lz.embed.browser.isIE){GLIFFY.gliffytimeout=setTimeout(GLIFFY.browser.removeSplash,15000)}if(lz.embed.browser.isIE){window.onbeforeunload=a}else{window.addEventListener("beforeunload",d,false)}})();